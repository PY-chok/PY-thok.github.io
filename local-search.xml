<?xml version="1.0" encoding="utf-8"?>
<search>
  
  
  
  <entry>
    <title>IEEE754协议之非数NaN——从一道活动题讲起</title>
    <link href="/2023/10/14/IEEE754%E5%8D%8F%E8%AE%AE%E4%B9%8B%E9%9D%9E%E6%95%B0NaN%E2%80%94%E2%80%94%E4%BB%8E%E4%B8%80%E9%81%93%E6%B4%BB%E5%8A%A8%E9%A2%98%E8%AE%B2%E8%B5%B7/"/>
    <url>/2023/10/14/IEEE754%E5%8D%8F%E8%AE%AE%E4%B9%8B%E9%9D%9E%E6%95%B0NaN%E2%80%94%E2%80%94%E4%BB%8E%E4%B8%80%E9%81%93%E6%B4%BB%E5%8A%A8%E9%A2%98%E8%AE%B2%E8%B5%B7/</url>
    
    <content type="html"><![CDATA[<h4 id="事情要从一道北邮百团大战的娱乐题讲起…"><a href="#事情要从一道北邮百团大战的娱乐题讲起…" class="headerlink" title="事情要从一道北邮百团大战的娱乐题讲起…."></a>事情要从一道北邮百团大战的娱乐题讲起….</h4><p><img src="D:\Blog\source\img\blog1\3XKQ[]W~$G7I6G5PK@$6E$D.png" alt="3XKQ[]W~$G7I6G5PK@$6E$D"></p><figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs py"><span class="hljs-keyword">import</span> random<br>password = random.random()<br>val = <span class="hljs-built_in">float</span>(<span class="hljs-built_in">input</span>())<br><span class="hljs-keyword">if</span> <span class="hljs-keyword">not</span> (val &gt; password) <span class="hljs-keyword">and</span> <span class="hljs-keyword">not</span> (val &lt; password):<br>    <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;Welcome to my blog&quot;</span>)<br><span class="hljs-keyword">else</span>:<br>    <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;Access denied&quot;</span>)<br></code></pre></td></tr></table></figure><p>当时我心想，娱乐题而已，应该很简单吧，结果就是做了一个下午没想出来…</p><p>中途有过多种尝试…但是还是不行…</p><p>最后纯真学长告诉我去看ieee754，我这才幡然醒悟…</p><p>实在是符合我对百团活动脑筋急转弯的刻板印象，令人感叹。</p><p>引以为戒，另外网上对于NaN的资料比较零散，我的第一篇博客就献给ieee754吧。</p><p>作者水平有限，多多包涵。XD</p><h4 id="IEEE754是什么？"><a href="#IEEE754是什么？" class="headerlink" title="IEEE754是什么？"></a>IEEE754是什么？</h4><p>简而言之，IEEE754是一种用于二进制浮点数运算的标准，它定义了浮点数的表示方法、运算规则和格式。是美国电子和电气工程师协会（Institute of Electrical and Electronics Engineers，简称IEEE）制定的。</p><p>我们今天的主角NaN(not a number)非数，就来自于IEEE754。</p><p>IEEE 754标准定义了两种主要的浮点数格式：</p><ol><li>单精度（单精度浮点数）：使用32位二进制位表示一个浮点数，其中1位表示符号（正数或负数），8位表示指数（指数部分），剩下的23位表示尾数（尾数部分）。</li><li>双精度（双精度浮点数）：使用64位二进制位表示一个浮点数，其中1位表示符号，11位表示指数，剩下的52位表示尾数。</li></ol><p>关于IEEE754的移码，真值等详细规则，网上的大牛们已经写的很好了，我就不复制粘贴了…</p><p><a href="https://blog.csdn.net/weixin_47713503/article/details/108699001">clickme</a></p><h4 id="NaN是什么？"><a href="#NaN是什么？" class="headerlink" title="NaN是什么？"></a>NaN是什么？</h4><p>NaN是未定义或无法表示的数据类型的特定值。</p><p>例如0&#x2F;0通常无定义，就可以用NaN来表示。</p><p>实数域内负数平方根无解，负数对数结果复杂，反余弦&#x2F;正弦定义域小于-1或大于1，亦可用NaN表示。</p><p>正负无穷大，NaN参与计算时，计算结果常常用NaN来表示。</p><p>众所周知，两个实数之间只有小于，大于，等于三种可能关系，但是一旦一个操作数为NaN时，就必须引入所谓的<strong>无序</strong>关系。</p><p>下面给出NaN与任何浮点值，NaN，正负无穷的比较。</p><table><thead><tr><th align="center">比较</th><th align="left">NaN≥ x</th><th align="left">NaN ≤ <em>x</em></th><th>NaN &gt; <em>x</em></th><th>NaN &gt; <em>x</em></th><th>NaN &#x3D; <em>x</em></th><th>NaN ≠ <em>x</em></th></tr></thead><tbody><tr><td align="center">结果</td><td align="left">False</td><td align="left">False</td><td>False</td><td>False</td><td>False</td><td>True</td></tr></tbody></table><p>显然，这道脑筋急转弯就利用了NaN与任何数做大小比较都为False的特性。</p><p>同理，在IEEE754中，NaN也是唯一一个自身不等于自身的“数”，唯一一个不等于任何数的数，需注意，与常规数学定义不同的是，float“inf“（即无穷大）也等于自身。</p><p><strong>所以这题的答案即为NaN。</strong></p><p>一道知识面题，会的会，不会的不会，令人感叹。</p><p>下面给出INF（无穷大）的比较。</p><table><thead><tr><th align="center">比较</th><th>INF&gt;&#x3D;x(x≠INF)</th><th>INF&lt;&#x3D;x(x≠INF)</th><th>INF&gt;x(x≠INF)</th><th>INF&lt;x(x≠INF)</th><th>INF&#x3D;x(x≠INF)</th><th align="left">INF≠x(x≠INF)</th></tr></thead><tbody><tr><td align="center">结果</td><td>True</td><td>False</td><td>True</td><td>False</td><td>False</td><td align="left">True</td></tr><tr><td align="center">比较</td><td>INF&gt;&#x3D;INF</td><td>INF&lt;&#x3D;INF</td><td>INF&gt;INF</td><td>INF&lt;INF</td><td>INF&#x3D;INF</td><td align="left">INF≠INF</td></tr><tr><td align="center">结果</td><td>True</td><td>True</td><td>False</td><td>False</td><td>True</td><td align="left">False</td></tr></tbody></table><p><strong>持续写作，欢迎关注。</strong></p>]]></content>
    
    
    
    <tags>
      
      <tag>CTF</tag>
      
      <tag>Crypto</tag>
      
      <tag>Misc</tag>
      
    </tags>
    
  </entry>
  
  
  
  
</search>
